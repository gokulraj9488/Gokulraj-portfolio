import{B as Q,V as w,M as q,F as L,e as v,f as F,T as N,r as p,g as Y,E as J,h as V,i as G,O as tt,_ as et,j as C,C as ot,a as b,b as rt,c as st,P as nt,S as at,t as it}from"./index-a49cd588.js";class lt extends Q{constructor(m,A,h,z){super();const f=[],E=[],O=[],d=new w,D=new q;D.makeRotationFromEuler(h),D.setPosition(A);const B=new q;B.copy(D).invert(),S(),this.setAttribute("position",new L(f,3)),this.setAttribute("normal",new L(E,3)),this.setAttribute("uv",new L(O,2));function S(){let t,e=[];const s=new w,n=new w;if(m.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const o=m.geometry,x=o.attributes.position,c=o.attributes.normal;if(o.index!==null){const a=o.index;for(t=0;t<a.count;t++)s.fromBufferAttribute(x,a.getX(t)),n.fromBufferAttribute(c,a.getX(t)),j(e,s,n)}else for(t=0;t<x.count;t++)s.fromBufferAttribute(x,t),n.fromBufferAttribute(c,t),j(e,s,n);for(e=g(e,d.set(1,0,0)),e=g(e,d.set(-1,0,0)),e=g(e,d.set(0,1,0)),e=g(e,d.set(0,-1,0)),e=g(e,d.set(0,0,1)),e=g(e,d.set(0,0,-1)),t=0;t<e.length;t++){const a=e[t];O.push(.5+a.position.x/z.x,.5+a.position.y/z.y),a.position.applyMatrix4(D),f.push(a.position.x,a.position.y,a.position.z),E.push(a.normal.x,a.normal.y,a.normal.z)}}function j(t,e,s){e.applyMatrix4(m.matrixWorld),e.applyMatrix4(B),s.transformDirection(m.matrixWorld),t.push(new $(e.clone(),s.clone()))}function g(t,e){const s=[],n=.5*Math.abs(z.dot(e));for(let o=0;o<t.length;o+=3){let x,c,a,k=0,i,u,y,M;const T=t[o+0].position.dot(e)-n,I=t[o+1].position.dot(e)-n,R=t[o+2].position.dot(e)-n;switch(x=T>0,c=I>0,a=R>0,k=(x?1:0)+(c?1:0)+(a?1:0),k){case 0:{s.push(t[o]),s.push(t[o+1]),s.push(t[o+2]);break}case 1:{if(x&&(i=t[o+1],u=t[o+2],y=l(t[o],i,e,n),M=l(t[o],u,e,n)),c){i=t[o],u=t[o+2],y=l(t[o+1],i,e,n),M=l(t[o+1],u,e,n),s.push(y),s.push(u.clone()),s.push(i.clone()),s.push(u.clone()),s.push(y.clone()),s.push(M);break}a&&(i=t[o],u=t[o+1],y=l(t[o+2],i,e,n),M=l(t[o+2],u,e,n)),s.push(i.clone()),s.push(u.clone()),s.push(y),s.push(M),s.push(y.clone()),s.push(u.clone());break}case 2:{x||(i=t[o].clone(),u=l(i,t[o+1],e,n),y=l(i,t[o+2],e,n),s.push(i),s.push(u),s.push(y)),c||(i=t[o+1].clone(),u=l(i,t[o+2],e,n),y=l(i,t[o],e,n),s.push(i),s.push(u),s.push(y)),a||(i=t[o+2].clone(),u=l(i,t[o],e,n),y=l(i,t[o+1],e,n),s.push(i),s.push(u),s.push(y));break}}}return s}function l(t,e,s,n){const o=t.position.dot(s)-n,x=e.position.dot(s)-n,c=o/(o-x);return new $(new w(t.position.x+c*(e.position.x-t.position.x),t.position.y+c*(e.position.y-t.position.y),t.position.z+c*(e.position.z-t.position.z)),new w(t.normal.x+c*(e.normal.x-t.normal.x),t.normal.y+c*(e.normal.y-t.normal.y),t.normal.z+c*(e.normal.z-t.normal.z)))}}}class ${constructor(m,A){this.position=m,this.normal=A}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const P=r=>r===Object(r)&&!Array.isArray(r)&&typeof r!="function";function H(r,m){const A=v(f=>f.gl),h=F(N,P(r)?Object.values(r):r);return p.useLayoutEffect(()=>{m==null||m(h)},[m]),p.useEffect(()=>{if("initTexture"in A){let f=[];Array.isArray(h)?f=h:h instanceof Y?f=[h]:P(h)&&(f=Object.values(h)),f.forEach(E=>{E instanceof Y&&A.initTexture(E)})}},[A,h]),p.useMemo(()=>{if(P(r)){const f={};let E=0;for(const O in r)f[O]=h[E++];return f}else return h},[r,h])}H.preload=r=>F.preload(N,r);H.clear=r=>F.clear(N,r);function ut(r){return Array.isArray(r)}function W(r=[0,0,0]){return ut(r)?r:r instanceof w||r instanceof J?[r.x,r.y,r.z]:[r,r,r]}const ct=p.forwardRef(function({debug:m,depthTest:A=!1,polygonOffsetFactor:h=-10,map:z,mesh:f,children:E,position:O,rotation:d,scale:D,...B},S){const j=p.useRef(null);p.useImperativeHandle(S,()=>j.current);const g=p.useRef(null),l=p.useRef({position:new w,rotation:new J,scale:new w(1,1,1)});return p.useLayoutEffect(()=>{const t=(f==null?void 0:f.current)||j.current.parent,e=j.current;if(!(t instanceof V))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');if(t){G(l.current,{position:O,scale:D});const s=t.matrixWorld.clone();if(t.matrixWorld.identity(),!d||typeof d=="number"){const n=new tt;n.position.copy(l.current.position);const o=t.geometry.attributes.position.array;t.geometry.attributes.normal===void 0&&t.geometry.computeVertexNormals();const x=t.geometry.attributes.normal.array;let c=1/0;new w;let a=new w;const k=n.position.x,i=n.position.y,u=n.position.z,y=o.length;let M=-1;for(let T=0;T<y;T+=3){const I=o[T],R=o[T+1],K=o[T+2],U=I-k,Z=R-i,X=K-u,_=U*U+Z*Z+X*X;_<c&&(c=_,M=T)}a.fromArray(x,M),n.lookAt(n.position.clone().add(a)),n.rotateZ(Math.PI),n.rotateY(Math.PI),typeof d=="number"&&n.rotateZ(d),G(l.current,{rotation:n.rotation})}else G(l.current,{rotation:d});return e.geometry=new lt(t,l.current.position,l.current.rotation,l.current.scale),t.matrixWorld=s,()=>{e.geometry.dispose()}}},[f,...W(O),...W(D),...W(d)]),p.useLayoutEffect(()=>{g.current&&(G(g.current,l.current),g.current.traverse(t=>t.raycast=()=>null))},[m]),p.createElement("mesh",et({ref:j,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":h,"material-depthTest":A,"material-map":z},B),E,m&&p.createElement("mesh",{ref:g},p.createElement("boxGeometry",null),p.createElement("meshNormalMaterial",{wireframe:!0}),p.createElement("axesHelper",null)))}),ft=r=>{const[m]=H([r.imgUrl]);return C("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[b("ambientLight",{intensity:.5})," ",b("directionalLight",{position:[0,0,.05],intensity:.5})," ",b("icosahedronGeometry",{args:[1,1]}),b("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),b(ct,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:m,flatShading:!0})]})},pt=({icon:r})=>C(ot,{frameloop:"demand",dpr:[1,1.5],gl:{preserveDrawingBuffer:!0,antialias:!0},children:[C(p.Suspense,{fallback:b(rt,{}),children:[b(st,{enableZoom:!1,enableRotate:!1}),b(ft,{imgUrl:r})]}),b(nt,{all:!0})]}),mt=()=>b("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:it.map(r=>b("div",{className:"w-28 h-28",children:b(pt,{icon:r.icon})},r.name))}),yt=at(mt,"");export{yt as default};
